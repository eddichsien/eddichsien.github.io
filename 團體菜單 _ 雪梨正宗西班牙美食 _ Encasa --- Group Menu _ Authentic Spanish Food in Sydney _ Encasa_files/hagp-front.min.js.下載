(function(){const e=document.querySelector(".hagp");if(!e||typeof window.HAGP=="undefined")return;console.log("HAGP script loaded âœ…",window.HAGP?.key);const t=e.querySelector(".hagp__modal"),s=`hagp_seen_${window.HAGP.key}`;if(Number(window.HAGP.showOnce)===1)try{if(localStorage.getItem(s)==="1")return}catch{}function o(){e.classList.add("is-open"),e.setAttribute("aria-hidden","false")}function n(){if(e.classList.remove("is-open"),e.setAttribute("aria-hidden","true"),Number(window.HAGP.showOnce)===1)try{localStorage.setItem(s,"1")}catch{}}e.addEventListener("click",s=>{if(!e.classList.contains("is-open"))return;if(t&&t.contains(s.target))return;s.target.closest("[data-hagp-close]")&&n()}),e.querySelectorAll("[data-hagp-close]").forEach(e=>{e.addEventListener("click",t=>{e.tagName.toLowerCase()==="a"&&t.preventDefault(),n()})}),t&&(t.addEventListener("click",e=>e.stopPropagation()),t.addEventListener("pointerdown",e=>e.stopPropagation()),t.addEventListener("touchstart",e=>e.stopPropagation(),{passive:!0})),document.addEventListener("keydown",t=>{t.key==="Escape"&&e.classList.contains("is-open")&&n()});const i=Math.max(0,Number(window.HAGP.delayMs||0));setTimeout(o,i)})()